# Minimum Repo for MetaCodable issue

This repository is a minimum reproduction of an issue I am facing, when adopting MetaCodable.

In particular, I'm trying to use "dynamic variation Codable types", following the tutorial here: https://swiftpackageindex.com/swiftylab/metacodable/v1.3.0/tutorials/metacodable/dynamic and in particular, Step 9.

This project copies these data structures for `Post` into a Swift Package. The package is a library dependency of an iOS app.

This all works when building and debugging the app in the simulator.

However, when making an archive of the app - Xcode fails to run a build script generated by the package plugin.

I think this is because the location of the `ProtcolGen` executable tool is in an unexpected location during an archive.

```
/bin/sh -c /Users/daniel/Library/Developer/Xcode/DerivedData/Posts-aaxhnzolyyfxrgcsibzfeeijakbj/Build/Intermediates.noindex/ArchiveIntermediates/Posts/IntermediateBuildFilesPath/MetaCodableDemo.build/Release-iphoneos/MetaCodableDemo_Models.build/Script-6395541160321662996.sh

sandbox-exec: execvp() of '//Users/daniel/Library/Developer/Xcode/DerivedData/Posts-aaxhnzolyyfxrgcsibzfeeijakbj/Build/Intermediates.noindex/ArchiveIntermediates/Posts/BuildProductsPath/Release/ProtocolGen' failed: No such file or directory
Command PhaseScriptExecution failed with a nonzero exit code
```